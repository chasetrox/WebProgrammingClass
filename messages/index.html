<!DOCTYPE html>

<html>

<head>
  <meta charset="utf-8" />
  <title>Messages</title>
  <script>
    function parse() {
        jsonData = '[{"id":1,"content":"Do you really want to hurt me?","username":"Boy"},\
        {"id":2,"content":"Do you really want to make me cry?","username":"George"}]';
        var data = JSON.parse(jsonData);
        var messages = document.getElementById('messages');

        /* Iterates thru message set, generates a div subtree for each message*/
        for (var i = 0; i < 2; i++) {
                var div = document.createElement('div');
                var p = document.createElement('p');
                p.innerText = data[i]["content"];
                var name = document.createElement('span');
                name.innerText = data[i]["username"];
                p.appendChild(name);
                div.appendChild(p);
                messages.appendChild(div);
        }
    }
  </script>
</head>

<body onload="parse()">
  <h1>Messages</h1>
  <div id="messages"></div>
</body>

</html>
